<script lang="ts">
	import type { Writable } from "svelte/store";
	import EngineSeperate from "./EngineSeperate.svelte";
	import type { EngineDTO } from "./EngineDTO";

	export let engineSeperateArray: Array<EngineSeperate | undefined>;
	export let tempEngines: Writable<Array<EngineDTO>>;
</script>

<h2>Engines</h2>
<div class="engines">
	{#each $tempEngines as engine, index}
		{#if engine.address != "-1"}
			<EngineSeperate
				id={index}
				currentEngine={engine}
				{tempEngines}
				bind:this={engineSeperateArray[index]}
			/>
		{/if}
	{/each}
</div>

<style>
	h2 {
		margin-bottom: 0.3em;
		padding: 0.15em;
		background-color: var(--engine-ui-background-color);
		width: fit-content;
		text-shadow: 0.05em 0.05em 0.05em grey;
		color: var(--engine-ui-text-color);
	}

	.engines {
		max-height: 75vh;
		overflow-y: scroll;
		display: grid;
		row-gap: 1rem;
		min-width: 16em;
	}

	.engines::-webkit-scrollbar {
		width: 1rem;
	}

	.engines::-webkit-scrollbar-track {
		box-shadow: inset 0 0 1em var(--engine-ui-background-color);
		background: var(--engine-ui-background-color);
	}

	.engines::-webkit-scrollbar-thumb {
		background: var(--engine-ui-scrollbar-thumb-background-color);
		border-radius: 4em;
		border: 0.3em solid var(--engine-ui-background-color);
		border-top: 0;
		border-bottom: 0;
	}

	.engines::-webkit-scrollbar-thumb:hover {
		background: var(--engine-ui-scrollbar-thumb-hover-background-color);
	}
</style>
